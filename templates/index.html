{% extends "base.html" %}

{% block head %}
    <title>Simple expense manager by Peter Szepesi</title>
{% endblock %}
{% block body %}
    <header style="background-color: rgb(215, 215, 255);">
        <h1>Simple expense manager by Peter Szepesi</h1>
        <p>This is a simple expense manager</p>
        <a href="https://github.com/szpeto" target="_blank">GitHub</a>
    </header>

    <main>
        {% if entries | length < 1 %}
        <h3>The table is empty, add entries here...</h3>

        {% else %}
        <form method="POST" action="/">

            <div class="h-box-main">

                <div class="grid-1">

                    <label for="description-inp">Description : </label>
                    <input type="text" name="description" id="description-inp" placeholder="Description">

                    <label for="category-inp">Category : </label>
                    <select name="category" id="category-inp">
                          <option value="Groceries">Groceries</option>
                          <option value="Utilities">Utilities</option>
                          <option value="Rent">Rent</option>
                          <option value="Transportation">Transportation</option>
                          <option value="Gas">Gas</option>
                          <option value="Dining Out">Dining Out</option>
                          <option value="Health">Health</option>
                          <option value="Insurance">Insurance</option>
                          <option value="Clothing">Clothing</option>
                          <option value="Entertainment">Entertainment</option>
                          <option value="Subscriptions">Subscriptions</option>
                          <option value="Phone">Phone</option>
                          <option value="Internet">Internet</option>
                          <option value="Education">Education</option>
                          <option value="Gifts">Gifts</option>
                          <option value="Travel">Travel</option>
                          <option value="Household Supplies">Household Supplies</option>
                          <option value="Pets">Pets</option>
                          <option value="Childcare">Childcare</option>
                          <option value="Savings">Savings</option>
                          <option value="Debt Payments">Debt Payments</option>
                          <option value="Personal Care">Personal Care</option>
                          <option value="Fitness">Fitness</option>
                          <option value="Miscellaneous">Miscellaneous</option>
                        </select>

                    <label for="price-inp">Price : </label>
                    <input type="text" name="price" id="price-inp" placeholder="Price 0.00">

                    <label for="date-inp">Date : </label>
                    <input type="date" id="date-inp" value="{{ today }}" name="date">

                </div>

                <div class="buttons-add">

                    <button type="submit" name="action" value="Add entry" id="btn-add">Add entry</button>

                </div>

            </div>

            <table>
                <tr>
                    <th></th>
                    <th>id</th>
                    <th>description</th>
                    <th>category</th>
                    <th>price</th>
                    <th>date</th>
                    <th>edit</th>
                </tr>
                {% for entry in entries %}
                <tr>
                    <td>
                        <input type="checkbox" name="checked-entries" value="{{entry.id}}" id="check-box">
                    </td>
                    <td>{{entry.id}}</td>
                    <td>{{entry.description}}</td>
                    <td>{{entry.category}}</td>
                    <td>{{entry.price}}</td>
                    <td>{{entry.date}}</td>
                    <td><a href="/edit/{{ entry.id }}" class="edit-btn">Edit</a></td>
                </tr>
                {% endfor %}
            </table>
        {% endif %}
            <button type="submit" name="action" value="Delete selected" id="btn_del-sel">Delete selected</button>
            <!-- name/value = key/value -->
            <button type="submit" name="action" value="Delete all" id="btn_del-all">Delete all</button>
            <button type="submit" name="action" value="Refresh" id="btn_ref">Refresh</button><br><br>
            <label for="sort-inp">Sort by : </label>
            <select name="sort" id="sort-inp">
                <option value="Id">Id</option>
                <option value="Description">Description</option>
                <option value="Category">Category</option>
                <option value="Price">Price</option>
                <option value="Date">Date</option>
            </select>
            <button type="submit" name="action" value="Sort" id="btn-sort">Sort</button><br><br>
        </form>
    </main>

    <footer style="background-color: rgb(215, 215, 255);">
        <hr>
        <p>author: Peter Szepesi</p>
        <p>&copy; copyright reserved</p>
        <small><a href="mailto:szpeto12@gmail.com">szpeto12@gmail.com</a></small>
    </footer>
{% endblock %}